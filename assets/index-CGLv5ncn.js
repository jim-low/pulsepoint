import{r as p,c as P,aj as _,u as y,e as h,R as d,b as A,j as M,S as N}from"./index-gYbiazrs.js";var j=_.useId||(()=>{}),b=0;function w(e){const[o,s]=p.useState(j());return P(()=>{s(t=>t??String(b++))},[e]),o?`radix-${o}`:""}function k({prop:e,defaultProp:o,onChange:s=()=>{}}){const[t,r]=g({defaultProp:o,onChange:s}),n=e!==void 0,S=n?e:t,C=y(s),I=p.useCallback(i=>{if(n){const R=typeof i=="function"?i(e):i;R!==e&&C(R)}else r(i)},[n,e,r,C]);return[S,I]}function g({defaultProp:e,onChange:o}){const s=p.useState(e),[t]=s,r=p.useRef(t),n=y(o);return p.useEffect(()=>{r.current!==t&&(n(t),r.current=t)},[t,r,n]),s}function D(e){const o=e+"CollectionProvider",[s,t]=h(o),[r,n]=s(o,{collectionRef:{current:null},itemMap:new Map}),S=u=>{const{scope:c,children:m}=u,l=d.useRef(null),a=d.useRef(new Map).current;return M.jsx(r,{scope:c,itemMap:a,collectionRef:l,children:m})};S.displayName=o;const C=e+"CollectionSlot",I=d.forwardRef((u,c)=>{const{scope:m,children:l}=u,a=n(C,m),f=A(c,a.collectionRef);return M.jsx(N,{ref:f,children:l})});I.displayName=C;const i=e+"CollectionItemSlot",x="data-radix-collection-item",R=d.forwardRef((u,c)=>{const{scope:m,children:l,...a}=u,f=d.useRef(null),E=A(c,f),v=n(i,m);return d.useEffect(()=>(v.itemMap.set(f,{ref:f,...a}),()=>void v.itemMap.delete(f))),M.jsx(N,{[x]:"",ref:E,children:l})});R.displayName=i;function T(u){const c=n(e+"CollectionConsumer",u);return d.useCallback(()=>{const l=c.collectionRef.current;if(!l)return[];const a=Array.from(l.querySelectorAll(`[${x}]`));return Array.from(c.itemMap.values()).sort((v,O)=>a.indexOf(v.ref.current)-a.indexOf(O.ref.current))},[c.collectionRef,c.itemMap])}return[{Provider:S,Slot:I,ItemSlot:R},T,t]}export{k as a,D as c,w as u};
